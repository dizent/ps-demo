# 本地数据库模拟实现说明

本项目实现了一个基于文件的简易本地数据库模拟功能，用于在纯前端环境中实现数据的存储和管理。

## 主要功能

1. **数据存储**：使用无后缀的`site-data`文件存储网站的所有数据
2. **数据加载**：主页面(index.html)优先从文件加载数据，失败时使用localStorage作为备份
3. **数据编辑**：管理页面(admin.html)允许用户编辑数据并保存
4. **数据保存**：通过下载文件方式实现数据的保存功能
5. **测试工具**：提供了测试脚本来验证数据功能是否正常

## 文件结构

- `index.html` - 主页面，展示网站内容，从`site-data`文件加载数据
- `admin.html` - 管理页面，用于编辑网站数据
- `admin-script.js` - 管理页面的JavaScript逻辑
- `site-data` - 无后缀数据文件，存储所有网站数据
- `test-data-functionality.js` - 测试脚本

## 使用方法

### 1. 查看网站内容

打开`index.html`文件，网站会自动从`site-data`文件加载数据并显示。

### 2. 编辑网站数据

1. 打开`admin.html`文件
2. 修改表单中的数据
3. 点击"保存"按钮
4. 系统会下载一个名为`site-data`的文件
5. 将下载的文件替换到网站根目录，完成数据更新

### 3. 测试数据功能

页面右下角会显示一个"测试数据功能"按钮，点击可运行测试。测试结果会显示在浏览器控制台中。

## 数据结构说明

`site-data`文件包含以下主要数据：

- 网站基本信息（名称、标题、描述等）
- 联系信息（地址、电话、邮箱等）
- 产品列表
- 新闻列表
- 主题颜色设置

## 注意事项

1. 由于浏览器的安全限制，纯前端无法直接写入文件系统，因此采用下载文件的方式模拟保存功能
2. 数据更新后，需要手动将下载的文件替换到网站根目录
3. 如果`site-data`文件加载失败，系统会自动尝试从localStorage加载数据作为备份

## 技术实现

- 使用Fetch API从文件加载数据
- 使用localStorage作为数据备份
- 使用Blob和URL.createObjectURL实现文件下载
- 使用Tailwind CSS实现响应式布局

## 开发说明

如果需要扩展功能，可以修改以下文件：

- `index.html` - 修改数据展示逻辑
- `admin-script.js` - 修改数据加载和保存逻辑
- `test-data-functionality.js` - 添加更多测试功能

## 故障排除

如果遇到数据加载或保存问题：

1. 检查浏览器控制台是否有错误信息
2. 确认`site-data`文件是否存在且格式正确
3. 确认浏览器是否允许文件下载
4. 使用"测试数据功能"按钮运行测试，查看详细结果